<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ–°å¢è²¼æ–‡ - FoodieTime é£Ÿåˆ»</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" th:href="@{/css/front/post/style.css}">
</head>
<body class="min-h-screen bg-gray-100">
	<!--     Header -->
	<header class="app-header">
		<div class="header-container">
			<div class="logo-container">
				<a th:href="@{/index}" class="logo">
					<div
						class="logo-img bg-orange-500 text-white flex items-center justify-center text-lg font-bold">
						ğŸ½ï¸</div> <span class="logo-text">FoodieTime é£Ÿåˆ»</span>
				</a>
			</div>
			<div class="search-container">
				<div class="search-bar">
					<i class="material-icons-outlined search-icon">search</i> <input
						type="text" placeholder="æœå°‹é¤å»³ã€æ–™ç†æˆ–åœ°å€..." class="search-input">
					<i class="material-icons-outlined mic-icon">mic</i> <i
						class="material-icons-outlined camera-icon">photo_camera</i>
				</div>
			</div>
			<nav class="main-nav">
				<ul class="nav-list">
					<li class="nav-item"><a th:href="@{/map}" class="nav-link">åœ°åœ–</a></li>
					<li class="nav-item"><a th:href="@{/group-order}"
						class="nav-link">åœ˜è³¼</a></li>
					<li class="nav-item"><a th:href="@{/deals}" class="nav-link">å„ªæƒ </a></li>
					<li class="nav-item"><a th:href="@{/login}"
						class="nav-link login-btn">ç™»å…¥/è¨»å†Š</a></li>
				</ul>
				<button class="menu-toggle" aria-label="é–‹å•Ÿé¸å–®">
					<i class="material-icons-outlined">menu</i>
				</button>
			</nav>
		</div>
	</header>

	<!-- éºµåŒ…å±‘ -->
	<section class="breadcrumb">
		<div class="container">
			<a th:href="@{/post/}" class="breadcrumb-link">è¨è«–å€</a> <span
				class="breadcrumb-separator">/</span> <span class="breadcrumb-current">æ–°å¢è²¼æ–‡</span>
		</div>
	</section>

	<!-- æ–°å¢è²¼æ–‡è¡¨å–® -->
	<main class="main-content">
		<div
			class="container max-w-xl mx-auto bg-white rounded shadow p-8 mt-8">
			<h2 class="text-2xl font-bold mb-6 text-orange-600">æ–°å¢è²¼æ–‡</h2>
			<form th:action="@{/post/insert}" method="post" th:object="${postVO}">
				<!-- åˆ†é¡ -->
				<div class="mb-4">
					<label class="block mb-1 font-medium text-gray-700">åˆ†é¡</label> <select
						class="w-full border rounded px-3 py-2"
						th:field="*{postCate.postCateId}" required>
						<option value="" disabled selected>è«‹é¸æ“‡åˆ†é¡</option>
						<option th:each="cat : ${category}" th:value="${cat.postCateId}"
							th:text="${cat.postCate}"></option>
					</select>
				</div>
				<!-- æ¨™é¡Œ -->
				<div class="mb-4">
					<label class="block mb-1 font-medium text-gray-700">æ¨™é¡Œ</label> <input
						type="text" class="w-full border rounded px-3 py-2"
						th:field="*{postTitle}" maxlength="45" required>
					<div class="character-count text-right text-sm text-gray-500 mt-1">
						<span id="titleCount">0</span>/45 å­—å…ƒ
					</div>
				</div>
				<!-- å…§å®¹ -->
				<div class="mb-6">
					<label class="block mb-1 font-medium text-gray-700">å…§å®¹</label>
					<textarea class="w-full border rounded px-3 py-2"
						th:field="*{postContent}" rows="8" maxlength="2000" required></textarea>
				</div>
				<!-- é€å‡ºæŒ‰éˆ• -->
				<div class="flex justify-end space-x-4">
					<!-- æŒ‰éˆ• 1: å„²å­˜è‰ç¨¿ -->
					<button type="submit" name="action" value="draft"
						class="btn btn-secondary bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600">å„²å­˜è‰ç¨¿</button>
					<!-- æŒ‰éˆ• 2: ç™¼ä½ˆè²¼æ–‡ -->
					<button type="submit" name="action" value="publish"
						class="btn btn-primary bg-orange-600 text-white px-6 py-2 rounded hover:bg-orange-700">ç™¼ä½ˆè²¼æ–‡</button>
				</div>
			</form>
		</div>
	</main>
	<script>
    document.addEventListener('DOMContentLoaded', function() {
        const titleInput = document.querySelector('input[name="postTitle"]');
        const titleCountSpan = document.getElementById('titleCount');

        function updateTitleCount() {
            titleCountSpan.textContent = titleInput.value.length;
        }

        // Initial count on page load
        updateTitleCount();

        // Update count on input
        titleInput.addEventListener('input', updateTitleCount);
    });
</script>
</body>
</html>