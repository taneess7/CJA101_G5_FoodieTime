<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>修改個人資料</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-orange-100 flex items-center justify-center min-h-screen">
    <div class="bg-white p-10 rounded-2xl shadow-xl w-full max-w-xl">
        <h2 class="text-2xl font-bold text-center text-orange-700 mb-6">修改個人資料</h2>

        <form action="/member/update" method="post" enctype="multipart/form-data" class="space-y-4">

            <input type="hidden" name="mem_id" th:value="${member.memId}" />

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">暱稱</label>
                <input type="text" name="mem_nickname" th:value="${member.memNickname}" required
                       class="w-full border px-3 py-2 rounded-lg" />
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">姓名</label>
                <input type="text" name="mem_name" th:value="${member.memName}" required
                       class="w-full border px-3 py-2 rounded-lg" />
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">電話</label>
                <input type="tel" name="mem_phone" th:value="${member.memPhone}" required
                       class="w-full border px-3 py-2 rounded-lg" />
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">縣市</label>
                <input type="text" name="mem_city" th:value="${member.memCity}"
                       class="w-full border px-3 py-2 rounded-lg" />
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">鄉鎮市區</label>
                <input type="text" name="mem_cityarea" th:value="${member.memCityarea}"
                       class="w-full border px-3 py-2 rounded-lg" />
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">街道名稱</label>
                <input type="text" name="mem_address" th:value="${member.memAddress}"
                       class="w-full border px-3 py-2 rounded-lg" />
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">上傳新頭像</label>
                <input type="file" name="mem_avatar" accept="image/*" class="w-full" />
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">目前頭像</label>
                <img th:if="${member.memAvatar != null}"
                     th:src="'data:image/jpeg;base64,' + ${#strings.encodeBase64(member.memAvatar)}"
                     alt="大頭照" class="h-24 w-24 rounded-full shadow-md mb-2" />
            </div>

            <div class="text-center mt-6">
                <button type="submit"
                        class="bg-orange-600 text-white py-2 px-6 rounded-lg hover:bg-orange-700 transition">
                    儲存變更
                </button>
            </div>

        </form>
    </div>
</body>
</html>
